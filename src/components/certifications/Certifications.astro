---
import { Award, ExternalLink } from "lucide-react";
import { getCertifications, useTranslations } from "@/i18n";

interface Props {
  locale: "en" | "pl";
}

const { locale } = Astro.props;
const certifications = getCertifications(locale);
const t = useTranslations(locale);
---

<section>
  <h2 class="mb-8 text-3xl font-bold tracking-tighter">{t("certifications.title")}</h2>
  <div class="grid gap-6 sm:grid-cols-1 md:grid-cols-2">
    {
      certifications.map((cert) => {
        const Icon = cert.icon;
        return (
          <div class="bg-card rounded-lg border p-6 shadow-sm dark:border-zinc-800 dark:bg-zinc-900">
            <div class="mb-2 flex items-center gap-4">
              <div class={`rounded-full py-3 ${cert.color} bg-opacity-10`}>
                <Icon className={`h-8 w-8 ${cert.color}`} />
              </div>
              <h3 class="text-lg font-semibold">{cert.name}</h3>
            </div>
            <p class="text-muted-foreground mb-3 text-sm dark:text-zinc-400">
              {cert.issuer}
            </p>
            <div class="mb-4 flex items-center gap-2">
              <Award className="h-4 w-4 text-yellow-500" />
              <p class="text-sm font-medium">
                {t("certification.issued")}: {cert.issued} Â· {t("certification.expires")}: {cert.expires}
              </p>
            </div>
            <p class="text-muted-foreground mb-4 text-sm dark:text-zinc-400">
              {cert.description}
            </p>
            <a
              href={cert.credentialUrl}
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700"
            >
              <span>{t("certification.show")}</span>
              <ExternalLink className="h-4 w-4" />
            </a>
          </div>
        );
      })
    }
  </div>
</section>
