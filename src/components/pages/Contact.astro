---
import { Linkedin, Mail } from "lucide-react";
import { buttonVariants } from "@/components/ui/button";
import PageContainer from "@/layouts/PageContainer.astro";
import { cn } from "@/lib/utils";
import { useTranslations, type Locale } from "@/i18n";

interface Props {
  locale: Locale;
}

const { locale } = Astro.props;
const t = useTranslations(locale);

const contactItems = [
  {
    id: "email",
    icon: Mail,
    title: "Email",
    description: "kontakt@radoslawrzepka.me",
    href: "mailto:kontakt@radoslawrzepka.me",
    buttonTextKey: "contact.sendEmail" as const,
    buttonVariant: "default" as const,
    isExternal: false,
  },
  {
    id: "linkedin",
    icon: Linkedin,
    title: "LinkedIn",
    descriptionKey: "contact.linkedinConnect" as const,
    href: "https://www.linkedin.com/in/rados≈Çaw-rzepka-a87157248",
    buttonTextKey: "contact.linkedinProfile" as const,
    buttonVariant: "outline" as const,
    isExternal: true,
  },
];
---

<PageContainer locale={locale} titleKey="contact.title" descriptionKey="contact.description">
  <div class="grid gap-8 max-w-2xl mx-auto mt-8 px-4 sm:px-0">
    {
      contactItems.map((item) => (
        <div class="flex flex-col sm:flex-row items-start sm:items-center gap-4 p-4 sm:p-6 rounded-lg border bg-card shadow-sm">
          <div class="flex items-center gap-3 w-full sm:w-auto">
            <item.icon className="h-6 w-6 sm:h-8 sm:w-8 text-primary flex-shrink-0" />
            <div class="flex-grow">
              <h2 class="text-lg sm:text-xl font-semibold">{item.title}</h2>
              <p class="text-sm sm:text-base text-muted-foreground break-words">
                {"descriptionKey" in item && item.descriptionKey
                  ? t(item.descriptionKey)
                  : "description" in item
                    ? item.description
                    : ""}
              </p>
            </div>
          </div>
          <a
            href={item.href}
            target={item.isExternal ? "_blank" : undefined}
            rel={item.isExternal ? "noopener noreferrer" : undefined}
            class={cn(
              buttonVariants({ variant: item.buttonVariant, size: "sm" }),
              "mt-2 sm:mt-0 sm:ml-auto w-full sm:w-auto text-center",
            )}
          >
            {t(item.buttonTextKey)}
          </a>
        </div>
      ))
    }
  </div>
</PageContainer>
