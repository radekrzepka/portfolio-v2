---
import { getRelativeLocaleUrl } from "astro:i18n";
import { FooterCertifications } from "@/components/certifications";
import { getNavLinks, getSocialLinks, useTranslations } from "@/i18n";

interface Props {
  locale: "en" | "pl";
}

const { locale } = Astro.props;
const navLinks = getNavLinks(locale);
const socialLinks = getSocialLinks(locale);
const t = useTranslations(locale);
const currentYear = new Date().getFullYear();
---

<footer class="border-t bg-muted/30">
  <div class="px-4 md:px-6 py-8 md:py-12">
    <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-4">
      <div class="space-y-4">
        <h3 class="font-bold text-lg">Radosław Rzepka</h3>
        <p class="text-sm text-muted-foreground">
          {t("footer.tagline")}
        </p>
        <div class="flex space-x-4">
          {
            socialLinks.map(({ href, icon: Icon, label }) => (
              <a
                href={href}
                class="text-muted-foreground hover:text-foreground transition-colors"
                target="_blank"
                rel="noopener noreferrer"
              >
                <Icon className="h-5 w-5" />
                <span class="sr-only">{label}</span>
              </a>
            ))
          }
        </div>
      </div>

      <div class="space-y-4">
        <h3 class="font-bold text-lg">{t("footer.navigation")}</h3>
        <ul class="space-y-2 text-sm">
          {
            navLinks.map(({ path, label }) => (
              <li>
                <a
                  href={getRelativeLocaleUrl(locale, path)}
                  class="text-muted-foreground hover:text-foreground transition-colors"
                >
                  {label}
                </a>
              </li>
            ))
          }
        </ul>
      </div>

      <div class="space-y-4">
        <h3 class="font-bold text-lg">{t("footer.contact")}</h3>
        <p class="text-sm text-muted-foreground">
          {t("footer.contactText")}
        </p>
        <a
          href={getRelativeLocaleUrl(locale, "contact")}
          class="inline-block text-sm font-medium text-primary hover:underline"
        >
          {t("footer.writeToMe")}
        </a>
      </div>

      <div class="space-y-4">
        <h3 class="font-bold text-lg">{t("footer.certifications")}</h3>
        <FooterCertifications locale={locale} />
      </div>
    </div>

    <div class="mt-12 pt-6 border-t text-center text-sm text-muted-foreground">
      <p>© {currentYear} Radosław Rzepka. {t("footer.rights")}</p>
    </div>
  </div>
</footer>
